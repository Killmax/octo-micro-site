!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery)}(function($){function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s=decodeURIComponent(s.replace(pluses," ")),config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value&&!$.isFunction(value)){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setTime(+t+864e5*days)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var result=key?void 0:{},cookies=document.cookie?document.cookie.split("; "):[],i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}key||void 0===(cookie=read(cookie))||(result[name]=cookie)}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)&&($.cookie(key,"",$.extend({},options,{expires:-1})),!$.cookie(key))}}),function($){function guid(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}$.octo={},$.octo.apikey="OVERRIDE THIS WITH YOUR API KEY",$.octo.defaults={base_url:"https://api.octo.ai",cookie_name:"_oid"},$.octo.pageView=function(options){void 0==options&&(options={});var _tags=$.octo.unique($.merge($.octo.pageTags(),options.tags||[])),_cats=$.octo.unique($.merge($.octo.pageCategories(),options.categories||[])),pageViewOpts={userId:options.userId||-1,browserDetails:$.octo.browserDetails(options.cookie_name),routeUrl:window.location.pathname,tags:_tags,categories:_cats},pageUrl=$.octo.defaults.base_url.concat("/events/page.view/");$.octo.ajax(pageUrl,pageViewOpts)},$.octo.getCookieId=function(cookie_name){var _cname=cookie_name||$.octo.defaults.cookie_name;if($.cookie(_cname))return $.cookie(_cname);var _oid=guid();return $.cookie(_cname,_oid),_oid},$.octo.OGTags=function(){var tags=[];return $.each($("meta[property='article:tag']"),function(i,tag){tags.push(tag.content)}),tags},$.octo.OGSection=function(){return $("meta[property='article:section']").attr("content")},$.octo.metaKeywords=function(){var kwds=$("meta[name=keywords]").attr("content");return void 0==kwds?[]:kwds.split(",")},$.octo.pageTags=function(){return $.merge($.octo.OGTags(),$.octo.metaKeywords())},$.octo.pageCategories=function(){var cats=[];return $.octo.OGSection()&&cats.push($.octo.OGSection()),cats},$.octo.unique=function(list){var result=[];return $.each(list,function(i,e){$.inArray(e,result)==-1&&result.push(e)}),result},$.octo.ajax=function(url,data,options){$.octo.ajax.settings=$.extend({},$.octo.ajax.defaults,options);var opts={error:$.octo.ajax.settings.onError,success:$.octo.ajax.settings.onSuccess,data:JSON.stringify(data),contentType:$.octo.ajax.settings.contentType,accepts:$.octo.ajax.settings.accepts,dataType:$.octo.ajax.settings.dataType,method:$.octo.ajax.settings.method,headers:{apikey:$.octo.apikey}};$.ajax(url,opts)},$.octo.ajax.defaults={contentType:"application/json",accepts:"text/html",dataType:"json",method:"POST",onError:$.octo.onAjaxError,onSuccess:$.octo.onAjaxSuccess},$.octo.onAjaxSuccess=function(data){},$.octo.onAjaxError=function(data){},$.octo.browser_name=function(){var isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,isFirefox="undefined"!=typeof InstallTrigger,isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isIE=!!document.documentMode,isEdge=!isIE&&!!window.StyleMedia,isChrome=!!window.chrome&&!!window.chrome.webstore;return isOpera?"Opera":isFirefox?"Firefox":isSafari?"Safari":isIE?"Internet Explorer":isEdge?"Edge":isChrome?"Chrome":"unknown"},$.octo.browserDetails=function(cookie_name){return{name:$.octo.browser_name(),platform:navigator.platform,manufacturer:navigator.vendor,cookieid:$.octo.getCookieId(cookie_name)}},$.octo.init=function(options){$(document).ready(function(){$.octo.pageView(options)})}}(jQuery);