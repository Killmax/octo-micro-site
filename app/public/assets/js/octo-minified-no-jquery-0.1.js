!function(o){"function"==typeof define&&define.amd?define(["jquery"],o):o("object"==typeof exports?require("jquery"):jQuery)}(function(o){function t(o){return a.raw?o:encodeURIComponent(o)}function e(o){return a.raw?o:decodeURIComponent(o)}function n(o){return t(a.json?JSON.stringify(o):String(o))}function i(o){0===o.indexOf('"')&&(o=o.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return o=decodeURIComponent(o.replace(r," ")),a.json?JSON.parse(o):o}catch(o){}}function c(t,e){var n=a.raw?t:i(t);return o.isFunction(e)?e(n):n}var r=/\+/g,a=o.cookie=function(i,r,u){if(void 0!==r&&!o.isFunction(r)){if(u=o.extend({},a.defaults,u),"number"==typeof u.expires){var s=u.expires,d=u.expires=new Date;d.setTime(+d+864e5*s)}return document.cookie=[t(i),"=",n(r),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var p=i?void 0:{},g=document.cookie?document.cookie.split("; "):[],f=0,l=g.length;f<l;f++){var m=g[f].split("="),w=e(m.shift()),y=m.join("=");if(i&&i===w){p=c(y,r);break}i||void 0===(y=c(y))||(p[w]=y)}return p};a.defaults={},o.removeCookie=function(t,e){return void 0!==o.cookie(t)&&(o.cookie(t,"",o.extend({},e,{expires:-1})),!o.cookie(t))}}),function(o){function t(){function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()}function e(t,e){o.octo.locality.latitude=t.coords.latitude,o.octo.locality.longitude=t.coords.longitude,o.octo.pageView(arguments[1])}function n(t,e){switch(t.code){case t.PERMISSION_DENIED:o.octo.pageView(arguments[1]);break;case t.POSITION_UNAVAILABLE:o.octo.pageView(arguments[1]);break;case t.PERMISSION_DENIED_TIMEOUT:o.octo.pageView(arguments[1])}}o.octo={},o.octo.apikey="OVERRIDE THIS WITH YOUR API KEY",o.octo.defaults={base_url:"https://api.octo.ai",cookie_name:"_oid"},o.octo.locality={latitude:0,longitude:0},o.octo.getLocationpermission=function(o,t){navigator.geolocation.getCurrentPosition(e,n)},o.octo.pageView=function(t){console.log("1"),void 0==t&&(t={});var e=o.octo.unique(o.merge(o.octo.pageTags(),t.tags||[])),n=o.octo.unique(o.merge(o.octo.pageCategories(),t.categories||[])),i={userId:t.userId||-1,browserDetails:o.octo.browserDetails(t.cookie_name),routeUrl:window.location.pathname,tags:e,categories:n},c=o.octo.defaults.base_url.concat("/events/page.view/");o.octo.ajax(c,i)},o.octo.getlatitude=function(){return o.octo.locality.latitude},o.octo.getlongitude=function(){return o.octo.locality.longitude},o.octo.getCookieId=function(e){var n=e||o.octo.defaults.cookie_name;if(o.cookie(n))return o.cookie(n);var i=t();return o.cookie(n,i),i},o.octo.OGTags=function(){var t=[];return o.each(o("meta[property='article:tag']"),function(o,e){t.push(e.content)}),t},o.octo.OGSection=function(){return o("meta[property='article:section']").attr("content")},o.octo.metaKeywords=function(){var t=o("meta[name=keywords]").attr("content");return void 0==t?[]:t.split(",")},o.octo.pageTags=function(){return o.merge(o.octo.OGTags(),o.octo.metaKeywords())},o.octo.pageCategories=function(){var t=[];return o.octo.OGSection()&&t.push(o.octo.OGSection()),t},o.octo.unique=function(t){var e=[];return o.each(t,function(t,n){o.inArray(n,e)==-1&&e.push(n)}),e},o.octo.ajax=function(t,e,n){o.octo.ajax.settings=o.extend({},o.octo.ajax.defaults,n);var i={error:o.octo.ajax.settings.onError,success:o.octo.ajax.settings.onSuccess,data:JSON.stringify(e),contentType:o.octo.ajax.settings.contentType,accepts:o.octo.ajax.settings.accepts,dataType:o.octo.ajax.settings.dataType,method:o.octo.ajax.settings.method,headers:{apikey:o.octo.apikey}};o.ajax(t,i)},o.octo.ajax.defaults={contentType:"application/json",accepts:"text/html",dataType:"json",method:"POST",onError:o.octo.onAjaxError,onSuccess:o.octo.onAjaxSuccess},o.octo.onAjaxSuccess=function(o){},o.octo.onAjaxError=function(o){},o.octo.browser_name=function(){var o=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t="undefined"!=typeof InstallTrigger,e=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,n=!!document.documentMode,i=!n&&!!window.StyleMedia,c=!!window.chrome&&!!window.chrome.webstore;return o?"Opera":t?"Firefox":e?"Safari":n?"Internet Explorer":i?"Edge":c?"Chrome":"unknown"},o.octo.browserDetails=function(t){return{name:o.octo.browser_name(),platform:navigator.platform,manufacturer:navigator.vendor,cookieid:o.octo.getCookieId(t),latitude:o.octo.getlatitude(),longitude:o.octo.getlongitude()}},o.octo.init=function(t){o(document).ready(function(){o.octo.getLocationpermission(o.octo.pageView,t)})}}(jQuery);